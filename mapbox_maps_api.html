<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Map Box API Exercise</title>
  <script src='https://api.mapbox.com/mapbox-gl-js/v2.10.0/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v2.10.0/mapbox-gl.css' rel='stylesheet' />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
	<script rel="script" src="js/jquery.js"></script>
</head>
<body>
<h1>My First mapbox</h1>
<button type="button" class="btn btn-primary" id="zoomOut">Zoom Out</button>
<button type="button" class="btn btn-primary" id="zoomIn">Zoom In</button>
<div id='map' style='width: 400px; height: 300px;'></div>
<script>


	let startingZoom = 7;
  mapboxgl.accessToken = 'pk.eyJ1IjoidmFuZHlrZW5uaWNob2xhcyIsImEiOiJjbGExOW5kbDIwMXQ1NDFtcmJycjBxMG8yIn0.q7VgExoDOZcS3HMI1ejfbQ';
  const map = new mapboxgl.Map({
    container: 'map', // container ID
    style: 'mapbox://styles/mapbox/streets-v11', // style URL
    center: [-84.256030, 35.797300], // starting position [lng, lat]
    zoom: startingZoom, // starting zoom
    projection: 'globe' // display the map as a 3D globe
  });
  map.on('style.load', () => {
    map.setFog({}); // Set the default atmosphere style
  });

</script>
  <script rel="script" src="js/mapbox-geocoder-utils.js"></script>
<script>


    const myToken = 'pk.eyJ1IjoidmFuZHlrZW5uaWNob2xhcyIsImEiOiJjbGExOW5kbDIwMXQ1NDFtcmJycjBxMG8yIn0.q7VgExoDOZcS3HMI1ejfbQ';


	let addresses = [{
		address: `411 Sweetwater Vonore Rd, Sweetwater, TN 37874`,
		popup : "<div class=\"container\" ><div class=\"row\"><div class=\"con text-center\">picture</div><div class=\"row align-items-center text-center\"><div class=\"col\">price</div><div class=\"col\"><button class=\"btn btn-primary btn-sm\">Web</button></div></div></div></div>"
		},
		{
			address: `7531 Barnett Way, Powell, TN 37849`,
			popup: "<p></p><p>Best burgers chain near town!</p>"

		}];
	addresses.forEach(function(index){
			geocode(index.address,myToken).then(function(result) {
			let marker = new mapboxgl.Marker()
				.setLngLat(result)
				.addTo(map);
			let popup = new mapboxgl.Popup()
				.setLngLat(result)
				.setHTML(index.popup)
				marker.setPopup(popup);
		});
	});
</script>
<script>
	$(`#zoomOut`).click(function(){
		map.setZoom(startingZoom -= 2);
	});
	$(`#zoomIn`).click(function(){
		map.setZoom(startingZoom += 2);
	});

</script>
<script rel="script" href="	https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>


</body>
</html>